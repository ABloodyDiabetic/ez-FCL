var freeaps_basalSetTemp;(()=>{var t={2781:(t,r,e)=>{var a=e(1433).Symbol;t.exports=a},4272:t=>{t.exports=function(t,r){for(var e=-1,a=null==t?0:t.length,n=Array(a);++e<a;)n[e]=r(t[e],e,t);return n}},3025:t=>{t.exports=function(t,r,e){return t==t&&(void 0!==e&&(t=t<=e?t:e),void 0!==r&&(t=t>=r?t:r)),t}},7148:(t,r,e)=>{var a=e(2781),n=e(7903),o=e(9357),i=a?a.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?n(t):o(t)}},6584:(t,r,e)=>{var a=e(2781),n=e(4272),o=e(6397),i=e(5414),s=a?a.prototype:void 0,u=s?s.toString:void 0;t.exports=function t(r){if("string"==typeof r)return r;if(o(r))return n(r,t)+"";if(i(r))return u?u.call(r):"";var e=r+"";return"0"==e&&1/r==-1/0?"-0":e}},8812:(t,r,e)=>{var a=e(2140),n=/^\s+/;t.exports=function(t){return t?t.slice(0,a(t)+1).replace(n,""):t}},5380:(t,r,e)=>{var a="object"==typeof e.g&&e.g&&e.g.Object===Object&&e.g;t.exports=a},7903:(t,r,e)=>{var a=e(2781),n=Object.prototype,o=n.hasOwnProperty,i=n.toString,s=a?a.toStringTag:void 0;t.exports=function(t){var r=o.call(t,s),e=t[s];try{t[s]=void 0;var a=!0}catch(t){}var n=i.call(t);return a&&(r?t[s]=e:delete t[s]),n}},9357:t=>{var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},1433:(t,r,e)=>{var a=e(5380),n="object"==typeof self&&self&&self.Object===Object&&self,o=a||n||Function("return this")();t.exports=o},2140:t=>{var r=/\s/;t.exports=function(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}},6564:(t,r,e)=>{var a=e(3025),n=e(6584),o=e(1826),i=e(3506);t.exports=function(t,r,e){t=i(t),r=n(r);var s=t.length,u=e=void 0===e?s:a(o(e),0,s);return(e-=r.length)>=0&&t.slice(e,u)==r}},6397:t=>{var r=Array.isArray;t.exports=r},8953:t=>{t.exports=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)}},553:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},5414:(t,r,e)=>{var a=e(7148),n=e(553);t.exports=function(t){return"symbol"==typeof t||n(t)&&"[object Symbol]"==a(t)}},4764:(t,r,e)=>{var a=e(5378),n=1/0;t.exports=function(t){return t?(t=a(t))===n||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},1826:(t,r,e)=>{var a=e(4764);t.exports=function(t){var r=a(t),e=r%1;return r==r?e?r-e:r:0}},5378:(t,r,e)=>{var a=e(8812),n=e(8953),o=e(5414),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(n(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=n(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=a(t);var e=s.test(t);return e||u.test(t)?l(t.slice(2),e?2:8):i.test(t)?NaN:+t}},3506:(t,r,e)=>{var a=e(6584);t.exports=function(t){return null==t?"":a(t)}},7942:(t,r,e)=>{"use strict";function a(t,r){t.reason=(t.reason?t.reason+". ":"")+r,console.error(r)}var n={getMaxSafeBasal:function(t){var r=isNaN(t.max_daily_safety_multiplier)||null===t.max_daily_safety_multiplier?3:t.max_daily_safety_multiplier,e=isNaN(t.current_basal_safety_multiplier)||null===t.current_basal_safety_multiplier?4:t.current_basal_safety_multiplier;return Math.min(t.max_basal,r*t.max_daily_basal,e*t.current_basal)},setTempBasal:function(t,r,o,i,s){var u=n.getMaxSafeBasal(o),l=e(3531);function f(t,r){return t.use_autosens_isf_to_calculate_auto_isf_sens?r:u}t<0?t=0:t>f(o,t)&&(console.error("TBR "+l(t,2)+"U/hr limited by maxSafeBasal "+l(f(o,t),2)+"U/hr"),a(i,"TBR "+l(t,2)+"U/hr limited by maxSafeBasal "+l(f(o,t),2)+"U/hr"),t=f(o,t));var c=l(t,o);return void 0!==s&&void 0!==s.duration&&void 0!==s.rate&&s.duration>r-10&&s.duration<=120&&c<=1.2*s.rate&&c>=.8*s.rate&&r>0?(i.reason+=", "+s.duration+"m left and "+s.rate+" ~ req "+c+"U/hr: no change necessary",i):c===o.current_basal?!0===o.skip_neutral_temps?void 0!==s&&void 0!==s.duration&&s.duration>0?(a(i,"Suggested rate is same as profile rate, a temp basal is active, canceling current temp"),i.duration=0,i.rate=0,i):(a(i,"Suggested rate is same as profile rate, no temp basal is active, doing nothing"),i):(a(i,"Setting neutral temp basal of "+o.current_basal+"U/hr"),i.duration=r,i.rate=c,i):(i.duration=r,i.rate=c,i)}};t.exports=n},3531:(t,r,e)=>{var a=e(6564);t.exports=function(t,r){var e=20;void 0!==r&&"string"==typeof r.model&&(a(r.model,"54")||a(r.model,"23"))&&(e=40);return t<1?Math.round(t*e)/e:t<10?Math.round(20*t)/20:Math.round(10*t)/10}}},r={};function e(a){var n=r[a];if(void 0!==n)return n.exports;var o=r[a]={exports:{}};return t[a](o,o.exports,e),o.exports}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var a=e(7942);freeaps_basalSetTemp=a})();
